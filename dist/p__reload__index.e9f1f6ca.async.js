(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"8Vqr":function(e,t,o){e.exports={shopCar:"shopCar___2ilZf",header:"header___ojlzZ",title:"title___2y3U0",acount:"acount___2f9Po",avadarBox:"avadarBox___14a1L",soldOut:"soldOut___3xajM",contetnBox:"contetnBox___3KB2K",storeList:"storeList___3n5nJ",contentBody:"contentBody___2TYRS",shopItem:"shopItem___23HcM",shopName:"shopName___3H8zI",shopProduct:"shopProduct___fgVE6",contentBox:"contentBox___2ESgI",delete:"delete___1fJpx",shopAvadar:"shopAvadar___3oVOw",info:"info___2tMQX",hotelName:"hotelName___264CO",desc:"desc___1CGxR",price:"price___3gtyG",count:"count___3gBF_",label:"label___1kirw",radio:"radio___3NLWh",btn:"btn___3UF49",myRadio:"myRadio___1F_pd",carNull:"carNull___2qjMA"}},EtYW:function(e,t,o){"use strict";o.r(t);var n=o("Ico4"),a=o.n(n),_=(o("P0Cl"),o("oB33")),r=o("UWy3"),c=o.n(r),s=o("xwgP"),d=o.n(s),i=o("AP5n"),u=o("8Vqr"),p=o.n(u),l=o("YCKj");function h(e){var t=e.dispatch,o=e.userInfo,n=e.openid,r=e.code,i=e.location.query.merchantCode;return i||(i=o.merchantCode),Object(s["useEffect"])(()=>{var e={WX_APPID:"",WX_APPSECRET:""};Object(l["l"])(i).then(function(){var o=c()(a.a.mark(function o(c){var s;return a.a.wrap(function(o){while(1)switch(o.prev=o.next){case 0:if(1200==c.code){o.next=2;break}return o.abrupt("return",_["a"].info(c.msg));case 2:if(sessionStorage.setItem("mallCode",c.data.mallCode),n){o.next=7;break}return o.next=6,Object(l["p"])(i).then(t=>{if(1200!=t.code)return _["a"].info("\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01");t.data.forEach(t=>{e[t.key]=t.value})});case 6:r?Object(l["n"])({code:r,merchantCode:i}).then(e=>{if(1200!=e.code)return _["a"].info("\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01");t({type:"user/fetchOpenId",payload:e.data.openId})}):(s="http://mall.hualta.com/?merchantCode=".concat(i),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(e.WX_APPID,"&redirect_uri=").concat(s,"&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect"));case 7:case"end":return o.stop()}},o)}));return function(e){return o.apply(this,arguments)}}())},[]),d.a.createElement("div",{className:p.a.normal})}t["default"]=Object(i["c"])(e=>{var t=e.user;return{userInfo:t.currentUser,openid:t.openid}})(h)}}]);
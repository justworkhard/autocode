(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{ipAC:function(e,a,t){"use strict";t.r(a);t("AkY+");var n=t("bDmX"),c=(t("P0Cl"),t("oB33")),o=t("cO38"),r=t.n(o),s=(t("6Yi/"),t("aJ6J")),l=t("xwgP"),i=t.n(l),m=t("oUqH"),d=t("YCKj"),_=t("0r0m"),p=t.n(_),u=t("AP5n"),h=t("vOmp"),E=t("erlh"),N=t("pq+I"),f=t.n(N),C=t("Mn5C"),b=s["a"].operation;function v(e){var a=Object(l["useState"])({productionUrl:"",discountPrice:0,price:0,productionName:"",avgSaleAmountPerMonth:"",merchantName:"",merchantCode:"",categoryCode:"",detail:"",validTime:"",images:[],merchantPhone:"",instruments:[],merchantAddress:""}),t=r()(a,2),o=t[0],s=t[1],_=e.location.query,u=_.productionCode,N=_.id,v=e.userInfo,g=e.openId,y=e.dispatch,x=Object(l["useState"])(!1),P=r()(x,2),S=P[0],j=P[1],I=Object(l["useState"])({day:"00",hour:"00",minu:"00"}),B=r()(I,2),O=B[0],k=B[1],w=Object(l["useState"])([]),A=r()(w,2),M=A[0],q=A[1];function T(){var e={objectMerchantCode:v.merchantCode,storeMerchantCode:o.merchantCode,orderProductions:{productionCode:u,categoryCode:o.categoryCode},openId:g,quantity:1};Object(d["A"])({productionCode:u,storeMerchantCode:o.merchantCode}).then(a=>{if(1200!=a.code)return c["a"].info(a.msg);1==a.data.flag?Object(d["a"])(e).then(e=>{1200===e.code&&c["a"].info("\u6dfb\u52a0\u8d2d\u7269\u8f66\u6210\u529f\uff01",1)}):c["a"].info("\u5e93\u5b58\u4e0d\u8db3\uff0c\u6dfb\u52a0\u5931\u8d25\uff01",1)})}return Object(l["useEffect"])(()=>{console.log("pageloading"),j(!0),Object(d["r"])(N).then(e=>{if(1200!=e.code)return c["a"].info("\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\uff01");s(e.data);var a=[];e.data.instruments.map((e,t)=>{a.push({text:t+1+"."+e})}),q(a),j(!1),k(Object(E["c"])(e.data.endDate)),console.log(Object(E["c"])(e.data.endDate))})},[]),i.a.createElement("div",{className:f.a.app},i.a.createElement(h["a"],{title:"\u5546\u54c1\u8be6\u60c5",showIcon:!0}),i.a.createElement("div",{className:f.a.content},i.a.createElement("div",{className:f.a.carousel},i.a.createElement(n["a"],{className:f.a.spaceCarousel,autoplay:!1,dots:!1,beforeChange:(e,a)=>console.log("slide from ".concat(e," to ").concat(a)),afterChange:e=>{}},o.images.map((e,a)=>i.a.createElement("img",{className:f.a.qCode,src:e.imageUrl})))),i.a.createElement("div",{className:f.a.baseInfo},i.a.createElement("div",{className:f.a.acountPrice},i.a.createElement("div",{className:f.a.disPrice},"\uffe5",i.a.createElement("span",null,o.discountPrice/100)),i.a.createElement("div",{className:f.a.price},"\u95e8\u5e02\u4ef7: ",i.a.createElement("span",{className:f.a.shopPrice},"\uffe5",o.price/100)),i.a.createElement("p",{className:f.a.endTime},"\u7279\u4ef7\u5012\u8ba1\u65f6:",i.a.createElement("span",{className:f.a.dateSpan},O.day),"\u5929",i.a.createElement("span",{className:f.a.dateSpan},O.hour),"\u65f6",i.a.createElement("span",{className:f.a.dateSpan},O.minu),"\u5206")),i.a.createElement("div",{className:f.a.productName},o.productionName),i.a.createElement("div",{className:f.a.info},o.validTime?i.a.createElement("span",null,"\u4f7f\u7528\u65f6\u95f4\uff1a",o.validTime):i.a.createElement("span",null),i.a.createElement("span",null,"\u6708\u9500\uff1a",o.avgSaleAmountPerMonth,"\u7b14"))),i.a.createElement("div",{className:f.a.grayLine}),i.a.createElement("div",{className:f.a.cell,onClick:()=>{o.instruments||b(M)}},i.a.createElement("div",{className:f.a.title},"\u4f7f\u7528\u8bf4\u660e"),i.a.createElement("div",{className:f.a.value},i.a.createElement("div",{className:"iconfont icon-qianjin",style:{fontSize:"35px"}}))),i.a.createElement("div",{className:f.a.cell},i.a.createElement("div",{className:f.a.addrBox},i.a.createElement("p",null,o.merchantName),i.a.createElement("p",{className:f.a.add},o.merchantAddress))),i.a.createElement("div",{className:f.a.detail_box,dangerouslySetInnerHTML:{__html:o.detail}})),i.a.createElement("div",{className:f.a.bottom},i.a.createElement("div",{className:f.a.iconBtn,onClick:()=>{p.a.push("/shopMain?merchantCode=".concat(o.merchantCode))}},i.a.createElement("span",{className:"iconfont icon-dianmian",style:{color:"#FFCF56",fontSize:"50px",marginBottom:"30px"}}),i.a.createElement("span",{className:f.a.text},"\u5e97\u94fa")),i.a.createElement("a",{className:f.a.iconBtn,href:"tel: "+o.merchantPhone},i.a.createElement("span",{className:"iconfont icon-dianhua",style:{fontSize:"50px",marginBottom:"30px"}}),i.a.createElement("span",{className:f.a.text},"\u7535\u8bdd")),i.a.createElement("div",{className:f.a.iconBtn,onClick:()=>{y({type:"user/fetchIndexTab",payload:"order"}),p.a.push("/")}},i.a.createElement("span",{className:"iconfont icon-dingdan",style:{color:"#FF3E34",fontSize:"50px",marginBottom:"30px"}}),i.a.createElement("span",{className:f.a.text},"\u8ba2\u5355")),i.a.createElement("div",{className:f.a.bnts},i.a.createElement("span",{className:f.a.addCar,onClick:Object(m["throttle"])(T,2e3)},"\u52a0\u5165\u8d2d\u7269\u8f66"),i.a.createElement("span",{className:f.a.buy,onClick:()=>{p.a.push("/payPage?id=".concat(N,"&from=detail"))}},"\u7acb\u5373\u8d2d\u4e70"))),i.a.createElement(C["a"],{show:S}))}a["default"]=Object(u["c"])(e=>{var a=e.user;return{userInfo:a.currentUser,openId:a.openid}})(v)},"pq+I":function(e,a,t){e.exports={app:"app___3gSgA",detail_box:"detail_box___2gtyl",content:"content___29DBj",carousel:"carousel___8kBr_",qCode:"qCode___1kLmA",acountPrice:"acountPrice___2rBc1",endTime:"endTime___cjRYx",dateSpan:"dateSpan___2w874",baseInfo:"baseInfo___1_zRo",price:"price___1sr0T",info:"info___QM5Vh",productName:"productName___2okHf",grayLine:"grayLine___SMYQI",cell:"cell___1-kCd",iconfont:"iconfont___3d9yi",addrBox:"addrBox___wEPLW",add:"add___36529",spaceCarousel:"spaceCarousel___1tDhF",bottom:"bottom___1rhDi",funItem:"funItem___1fdlo",iconBtn:"iconBtn___3-SU8",text:"text___1dnAr",bnts:"bnts___38QIw",addCar:"addCar___3Lcok",buy:"buy___taZHh",shopPrice:"shopPrice___3dh51",disPrice:"disPrice___C-V8f"}}}]);